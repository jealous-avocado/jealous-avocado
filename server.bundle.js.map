{"version":3,"sources":["webpack:///webpack/bootstrap 2f716d338b13d29b57fa","webpack:///./server.js","webpack:///external \"express\"","webpack:///external \"body-parser\"","webpack:///external \"underscore\"","webpack:///external \"request\"","webpack:///external \"express-session\"","webpack:///external \"http\"","webpack:///./db/config.js","webpack:///external \"knex\"","webpack:///external \"bookshelf\"","webpack:///./db/models/user.js"],"names":[],"mappings":"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","file":"server.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2f716d338b13d29b57fa\n **/","var express = require('express');\nvar bodyParser = require('body-parser');\nvar _ = require('underscore');\nvar request = require('request');\nvar bodyParser = require('body-parser')\nvar session = require('express-session');\nvar app = express();\n\nvar server = require('http').Server(app);\n\n\nvar PORT = process.env.PORT || 3000;\nvar db = require('./db/config');\nvar User = require('./db/models/user.js');\n\napp.use(bodyParser.urlencoded({     \n extended: true\n}));\n\napp.use(bodyParser.json());\n\napp.use(express.static(__dirname + '/public')); //express static will serve up index.html by default upon requesting root url\n\napp.post('/signin', function (req, res) {\n var username = req.body.username;\n var password = req.body.password;\n // new User({ name: username })\n //  .fetch()\n //  .then(function(user) {\n //    if (!user) {\n //      res.status(404);\n //      res.end();\n //    } else {\n //      res.status(201);\n //      res.end();\n //    }\n //  });\nres.status(201);\nres.end();\n\n});\n\napp.get('/signout', function (req, res) {\n //destory session \n res.redirect('/');\n});\n\napp.get('/getArticles', (req, res) => {\n  console.log(req.query, 'url');\n  //\n  res.end();\n});\n\napp.get('*', (req, res) => {\n  res.sendFile(__dirname + '/public/index.html');\n});\n\napp.listen(PORT, function () {\n console.log('Express listening on port ' + PORT + '!');\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./server.js\n **/","module.exports = require(\"express\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"express\"\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = require(\"body-parser\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"body-parser\"\n ** module id = 14\n ** module chunks = 0\n **/","module.exports = require(\"underscore\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"underscore\"\n ** module id = 15\n ** module chunks = 0\n **/","module.exports = require(\"request\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"request\"\n ** module id = 16\n ** module chunks = 0\n **/","module.exports = require(\"express-session\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"express-session\"\n ** module id = 17\n ** module chunks = 0\n **/","module.exports = require(\"http\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"http\"\n ** module id = 18\n ** module chunks = 0\n **/","var knex = require('knex') ({\n  client: 'mysql',\n  connection: {\n    host: '127.0.0.1',\n    user: 'root',\n    database: 'rep',\n    charset: 'utf8', \n    password: 'kk'\n  }\n});\n\nvar db = require('bookshelf')(knex);\n\ndb.knex.schema.hasTable('users').then(function(exists) {\n  if (!exists){\n    db.knex.schema.createTable('users', function (user) {\n      user.increments('id').primary();\n      user.string('name', 100).unique();\n      user.string('password', 100);\n      user.timestamps();\n    }).then(function(table) {\n      console.log('Created Table', table);\n    });\n  }\n});\n\ndb.knex.schema.hasTable('topics').then(function(exists) {\n  if (!exists){\n    db.knex.schema.createTable('topics', function (topic) {\n      topic.increments('id').primary();\n      topic.string('name', 255).unique();\n      topic.timestamps();\n    }).then(function(table) {\n      console.log('Created Table', table);\n    });\n  }\n});\n\ndb.knex.schema.hasTable('videos').then(function(exists) {\n  if (!exists){\n    db.knex.schema.createTable('videos', function (video) {\n      video.increments('id').primary();\n      video.string('title', 255);\n      video.string('url', 255);\n      video.integer('userId');\n      video.integer('topicId');\n      video.timestamps();\n    }).then(function(table) {\n      console.log('Created Table', table);\n    });\n  }\n});\n\ndb.knex.schema.hasTable('streams').then(function(exists) {\n  if (!exists){\n    db.knex.schema.createTable('streams', function (stream) {\n      stream.increments('id').primary();\n      stream.string('title', 255);\n      stream.string('url', 255);\n      stream.integer('userId');\n      stream.integer('topicId');\n      stream.timestamps();\n    }).then(function(table) {\n      console.log('Created Table', table);\n    });\n  }\n});\n\ndb.knex.schema.hasTable('userFavs').then(function(exists) {\n  if (!exists){\n    db.knex.schema.createTable('userFavs', function (userFav) {\n      userFav.increments('id').primary();\n      userFav.integer('userId');\n      userFav.integer('topicId');\n      userFav.timestamps();\n    }).then(function(table) {\n      console.log('Created Table', table);\n    });\n  }\n});\n\ndb.knex.schema.hasTable('userTopics').then(function(exists) {\n  if (!exists){\n    db.knex.schema.createTable('userTopics', function (userTopic) {\n      userTopic.increments('id').primary();\n      userTopic.integer('userId');\n      userTopic.integer('topicId');\n      userTopic.timestamps();\n    }).then(function(table) {\n      console.log('Created Table', table);\n    });\n  }\n});\n\nmodule.exports = db;\n\n\n/** WEBPACK FOOTER **\n ** ./db/config.js\n **/","module.exports = require(\"knex\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"knex\"\n ** module id = 20\n ** module chunks = 0\n **/","module.exports = require(\"bookshelf\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"bookshelf\"\n ** module id = 21\n ** module chunks = 0\n **/","var db = require('../config');\n\nvar User = db.Model.extend({\n  tableName: 'users',\n  streams: function() {\n    return this.hasMany(Stream);\n  },\n  videos: function() {\n    return this.hasMany(Video);\n  }\n});\n\nmodule.exports = User;\n\n\n//Add password hashing with bcrypt, etc\n\n\n/** WEBPACK FOOTER **\n ** ./db/models/user.js\n **/"],"sourceRoot":""}